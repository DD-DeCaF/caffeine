<!--Copyright 2018 Novo Nordisk Foundation Center for Biosustainability, DTU.-->

<!--Licensed under the Apache License, Version 2.0 (the "License");-->
<!--you may not use this file except in compliance with the License.-->
<!--You may obtain a copy of the License at-->

<!--http://www.apache.org/licenses/LICENSE-2.0-->

<!--Unless required by applicable law or agreed to in writing, software-->
<!--distributed under the License is distributed on an "AS IS" BASIS,-->
<!--WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.-->
<!--See the License for the specific language governing permissions and-->
<!--limitations under the License.-->

<div class="container">
  <form [formGroup]="designForm" (ngSubmit)="submit()" novalidate class="design-form">
    <mat-form-field>
      <mat-label class="title">Organism</mat-label>
      <mat-select formControlName="species" [value]="selectedSpecies | async" #species>
        <mat-option [value]="species.id" *ngFor="let species of (allSpecies | async)">{{species.name}}</mat-option>
      </mat-select>
      <mat-hint>*Required</mat-hint>
    </mat-form-field>
    <mat-form-field class="example-full-width">
      <mat-label class="title">Product</mat-label>
      <input type="text" placeholder="Pick one" aria-label="Number" matInput formControlName="product" [matAutocomplete]="auto">
      <mat-autocomplete #auto="matAutocomplete">
        <mat-option *ngFor="let option of options" [value]="option">
          {{option}}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
    <div class="container-button">
      <button class="advanced-button" mat-button #advanced>Advanced
        <mat-icon *ngIf="!collapsed" mat-list-icon>arrow_drop_up</mat-icon>
        <mat-icon *ngIf="collapsed" mat-list-icon>arrow_drop_down</mat-icon>
      </button>
    </div>
    <div *ngIf="!collapsed">
      <div class="checkbox-group" [ngClass]="{'grid': sidenav==true}">
        <mat-label class="title">Select Databases</mat-label>
        <mat-checkbox formControlName="bigg" color="primary">BIGG</mat-checkbox>
        <mat-checkbox formControlName="kegg" color="primary">KEGG</mat-checkbox>
        <mat-checkbox formControlName="rhea" color="primary">RHEA</mat-checkbox>
      </div>
      <mat-form-field>
        <mat-label class="title">Model</mat-label>
        <mat-select formControlName="model" [value]="selectedSpecies | async" #species>
          <mat-option [value]="species.id" *ngFor="let species of (allSpecies | async)">{{species.name}}</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-label class="title">Number of pathways</mat-label>
        <input formControlName="number_pathways" type="number" placeholder="10" matInput>
      </mat-form-field>
    </div>
    <button mat-button [disabled]="!designForm.valid" #design>DESIGN</button>
  </form>
</div>
