<!--Copyright 2018 Novo Nordisk Foundation Center for Biosustainability, DTU.-->

<!--Licensed under the Apache License, Version 2.0 (the "License");-->
<!--you may not use this file except in compliance with the License.-->
<!--You may obtain a copy of the License at-->

<!--http://www.apache.org/licenses/LICENSE-2.0-->

<!--Unless required by applicable law or agreed to in writing, software-->
<!--distributed under the License is distributed on an "AS IS" BASIS,-->
<!--WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.-->
<!--See the License for the specific language governing permissions and-->
<!--limitations under the License.-->

<div fxLayoutAlign="center center"
     *ngIf="showSearch">
  <mat-form-field fxFlex
                  floatPlaceholder="never">
    <input matInput
           fxFlex
           type="text"
           [matAutocomplete]="auto"
           [placeholder]="placeholder"
           [(ngModel)]="searchText"
           (ngModelChange)="items = query()">
  </mat-form-field>
  <mat-autocomplete #auto="matAutocomplete">
    <mat-option *ngFor="let item of items | async"
                [value]="item"
                (onSelectionChange)="onItemSelection(item)">
      {{item.text}}
    </mat-option>
  </mat-autocomplete>

  <button mat-icon-button
          (click)="toggleSearch()">
    <mat-icon >cancel</mat-icon>
  </button>
</div>

<div fxLayoutAlign="center center"
     *ngIf="!showSearch">
  <ng-content></ng-content>
  <span fxFlex></span>
  <button mat-icon-button
          (click)="toggleSearch()">
    <mat-icon>search</mat-icon>
  </button>
</div>






